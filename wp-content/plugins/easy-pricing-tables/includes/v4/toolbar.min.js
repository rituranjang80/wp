!function(blocks,editor,element){function text_toolbar(e){var o=wp.element.useState,t=o(!1),l=t[0],c=t[1],n=o(!1),a=n[0],i=n[1],r=o(""),s=r[0],d=r[1];return el(wp.blockEditor.BlockControls,{},layout_toolbar(),el(wp.components.ToolbarGroup,{},el(wp.components.ToolbarButton,{className:"fca-ept-icon-button",icon:"info",label:"Add icon",isPressed:l,onClick:function(){c(!0),window.setTimeout(function(){var e=document.querySelectorAll(".fca-ept-fa-icons label");e.length&&e[0].click()},50)}}),l?el(wp.components.Modal,{isDismissible:!1,shouldCloseOnClickOutside:!0,title:"Add icon",className:"fca-ept-fa-icons-modal",onRequestClose:function(){c(!1)}},el(wp.components.ComboboxControl,{label:"Add Icon",className:"fca-ept-fa-icons",value:"",allowReset:!1,options:fcaEpt4ToolbarData.fa_classes,onChange:function(o){var t="<span style='font-family:FontAwesome'>"+o+"</span>";e.onChange(wp.richText.insert(e.value,wp.richText.create({html:t}))),c(!1)}})):null,el(wp.components.ToolbarButton,{className:"fca-ept-tooltip-button",icon:"editor-help",label:"Add Tooltip",isPressed:a,onClick:function(){i(!0)}}),a?el(wp.components.Modal,{isDismissible:!1,shouldCloseOnClickOutside:!0,title:"Add a tooltip",className:"fca-ept-fa-icons-modal",onRequestClose:function(){i(!1)}},el(wp.components.TextareaControl,{value:s,label:"Tooltip Text",onChange:function(e){d(e)}}),el(wp.components.Button,{variant:"primary",onClick:function(){var o="<span class='fca-ept-tooltip' data-tooltip='"+s+"' style='font-family:FontAwesome'>&#xf059;</span>";e.onChange(wp.richText.insert(e.value,wp.richText.create({html:o}),e.value.end)),i(!1)}},"Add")):null))}function layout_toolbar(){var e=wp.data.select("core/block-editor").getBlockParentsByBlockName(selectedBlock.clientId,["easy-pricing-tables/table"]),o=wp.data.select("core/block-editor").getBlockParentsByBlockName(selectedBlock.clientId,["easy-pricing-tables/list"]),t=[{icon:"table-row-before",title:"Insert row before",onClick:function(){add_row(selectedBlock,e[0])}},{icon:"table-row-after",title:"Insert row after",onClick:function(){add_row(selectedBlock,e[0],!0)}},{icon:"table-col-before",title:"Insert column before",onClick:function(){add_column(selectedBlock,e[0])}},{icon:"table-col-after",title:"Insert column after",onClick:function(){add_column(selectedBlock,e[0],!0)}},{icon:"table-col-delete",title:"Delete column",onClick:function(){delete_column(selectedBlock,e[0])}}],l=[{icon:"table-row-before",title:"Insert row before",onClick:function(){add_row(selectedBlock,e[0])}},{icon:"table-row-after",title:"Insert row after",onClick:function(){add_row(selectedBlock,e[0],!0)}},{icon:"table-row-delete",title:"Delete row",onClick:function(){delete_row(selectedBlock,e[0])}},{icon:"table-col-before",title:"Insert column before",onClick:function(){add_column(selectedBlock,e[0])}},{icon:"table-col-after",title:"Insert column after",onClick:function(){add_column(selectedBlock,e[0],!0)}},{icon:"table-col-delete",title:"Delete column",onClick:function(){delete_column(selectedBlock,e[0])}}];return el(wp.components.ToolbarGroup,{},el(wp.components.ToolbarDropdownMenu,{label:"Edit table",icon:"editor-table",controls:0==o.length?t:l}))}function add_column(e,o,t){var l=wp.data.select("core/block-editor").getBlock(o);void 0===t&&(t=!1);var c=wp.blocks.createBlock("easy-pricing-tables/column",defaultBlockProps(l.attributes.templateID));t?wp.data.dispatch("core/block-editor").insertBlocks(c,l.innerBlocks.length,o):wp.data.dispatch("core/block-editor").insertBlocks(c,0,o)}function add_row(e,o,t){var l=wp.data.select("core/block-editor").getBlock(o);void 0===t&&(t=!1);for(var c=0;c<l.innerBlocks.length;c++){var n=wp.blocks.createBlock("easy-pricing-tables/list-item",{}),a=l.innerBlocks[c].innerBlocks.filter(function(e){return"easy-pricing-tables/list"===e.name})[0],i=t?a.length:0;wp.data.dispatch("core/block-editor").insertBlocks(n,i,a.clientId)}}function delete_row(e,o){for(var t=wp.data.select("core/block-editor").getBlock(o),l=wp.data.select("core/block-editor").getBlockIndex(e.clientId),c=[],n=0;n<t.innerBlocks.length;n++){var a=t.innerBlocks[n].innerBlocks.filter(function(e){return"easy-pricing-tables/list"===e.name})[0].innerBlocks[l];c.push(a.clientId)}wp.data.dispatch("core/block-editor").removeBlocks(c)}function delete_column(e,o){var t=wp.data.select("core/block-editor").getBlockParentsByBlockName(e.clientId,["easy-pricing-tables/column"]);wp.data.dispatch("core/block-editor").removeBlock(t[0])}function defaultBlockProps(templateID){return eval("fcaEpt4defaultBlockProps"+templateID)}var el=React.createElement,selectedBlock={},fcaEpt4Toolbar=wp.richText.registerFormatType("easy-pricing-tables/toolbar",{title:"Toolbar",tagName:"i",className:"ept4-icon",edit:function(e){return selectedBlock=wp.data.useSelect(function(e){return e("core/block-editor").getSelectedBlock()}),-1!==["easy-pricing-tables/field","easy-pricing-tables/list-item"].indexOf(selectedBlock.name)?text_toolbar(e):null}})}(window.wp.blocks,window.wp.editor,window.wp.element);